{
  "name": "@visualize-admin/visualization-tool",
  "version": "6.2.1",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/visualize-admin/visualization-tool.git"
  },
  "author": {
    "name": "Federal Office for the Environment FOEN",
    "email": "visualize@bafu.admin.ch"
  },
  "license": "BSD-3-Clause",
  "private": true,
  "scripts": {
    "dev": "preconstruct dev && NODE_OPTIONS=\"--inspect --openssl-legacy-provider \" next ./app",
    "dev:ssl": "preconstruct dev && NODE_OPTIONS=\"--inspect --openssl-legacy-provider \" next dev --experimental-https ./app",
    "dev:mitmproxy": "preconstruct dev && HTTP_PROXY=http://localhost:8080 NODE_EXTRA_CA_CERTS=~/.mitmproxy/mitmproxy-ca-cert.pem GLOBAL_AGENT_ENVIRONMENT_VARIABLE_NAMESPACE='' NO_PROXY='localhost,127.0.0.1' next ./app",
    "dev:rollup": "rollup -c rollup.config.js --watch",
    "db:migrate:dev": "DATABASE_URL=postgres://postgres:password@localhost:5432/visualization_tool prisma db push",
    "db:migrate": "[ -z \"$DATABASE_URL\" ] && echo 'Bypassing database migration, DATABASE_URL not set' || prisma db push",
    "build": "yarn graphql:codegen && lingui compile && rollup -c rollup.config.js && yarn storybook:build && yarn generate-json-schema && next build ./app",
    "build:npm": "yarn graphql:codegen && lingui compile && BABEL_ENV=NPM_PACKAGE preconstruct build",
    "start": "yarn db:migrate && GLOBAL_AGENT_ENVIRONMENT_VARIABLE_NAMESPACE='' NO_PROXY='localhost,127.0.0.1' next start ./app -p $PORT",
    "typecheck": "tsc --noEmit -p ./app && tsc --noEmit -p ./embed",
    "lint": "eslint app -c .eslintrc.json",
    "knip": "npx knip --tags=-internal",
    "locales:extract": "lingui extract --clean; ./scripts/strip-locale-line-numbers.sh",
    "locales:compile": "lingui compile --verbose",
    "locales:sync": "dotenv -- accent sync --add-translations --merge-type=passive --order-by=key; yarn locales:extract # putting back file location comments",
    "locales:browse": "open 'https://accent.interactivethings.io/app/projects/584e1dfa-ff1f-4b26-8cac-07004c465134'",
    "graphql:codegen": "graphql-codegen --config codegen.yml",
    "graphql:codegen:dev": "graphql-codegen --config codegen.yml --watch",
    "icons": "rm -f app/icons/components/*.tsx && svgr -d app/icons/components app/icons/svg",
    "test": "cd ./app && vitest run",
    "test:watch": "cd ./app && vitest",
    "setup:dev": "yarn && yarn locales:compile && yarn db:migrate:dev",
    "postversion": "git push --follow-tags",
    "release:npm": "yarn build:npm && yarn publish app",
    "e2e:dev": "E2E_BASE_URL=http://localhost:3000 yarn playwright test",
    "e2e:dev:ssl": "E2E_BASE_URL=https://localhost:3000 yarn playwright test",
    "e2e:ui": "E2E_BASE_URL=http://localhost:3000 yarn playwright test --ui",
    "e2e:ui:ssl": "E2E_BASE_URL=https://localhost:3000 yarn playwright test --ui",
    "e2e": "playwright test",
    "cube": "NODE_ENV=development ts-node app/scripts/cube.ts",
    "dev:circular-deps": "madge --warning --extensions js,jsx,ts,tsx -b ./app -c ./app/pages/ --ts-config ./app/tsconfig.json | bun scripts/circular-deps-analysis.ts -",
    "github:codegen": "node k6/performance-tests/generate-github-actions.mjs",
    "storybook": "storybook dev -p 6006",
    "storybook:build": "storybook build -o app/public/storybook",
    "chromatic": "npx chromatic --build-script-name storybook:build -o app/public/storybook",
    "compare-screenshots": "npx tsx scripts/compare-screenshots.ts",
    "generate-json-schema": "tsx -r dotenv/config app/scripts/generate-json-schema.ts",
    "wms-wmts-providers:scrape": "curl https://raw.githubusercontent.com/geoadmin/web-mapviewer/refs/heads/develop/packages/mapviewer/src/modules/menu/components/advancedTools/ImportCatalogue/external-providers.json | prettier --parser json > ./app/charts/map/wms-wmts-providers.json"
  },
  "dependencies": {
    "@babel/runtime": "^7.11.2",
    "@cozy/cli-tree": "^0.3.0",
    "core-js": "^3.15.1",
    "next": "^14.2.26",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "ts-brand": "^0.2.0",
    "ts-node": "^10.9.2"
  },
  "devDependencies": {
    "@argos-ci/playwright": "^3.9.4",
    "@babel/core": "^7.12.9",
    "@preconstruct/cli": "^2.7.0",
    "@rollup/plugin-json": "^4.1.0",
    "@rollup/plugin-node-resolve": "^13.0.0",
    "@rollup/plugin-replace": "^2.3.3",
    "@storybook/addon-essentials": "8.6.12",
    "@storybook/addon-interactions": "8.6.12",
    "@storybook/addon-links": "8.6.12",
    "@storybook/blocks": "8.6.12",
    "@storybook/nextjs": "8.6.12",
    "@storybook/react": "8.6.12",
    "@storybook/types": "8.6.12",
    "@types/argparse": "^2.0.10",
    "@types/eslint": "^8.4.6",
    "@types/fs-extra": "^9.0.4",
    "@types/react": "^17.0.2",
    "@types/react-dom": "^17.0.2",
    "@typescript-eslint/utils": "^5.35.1",
    "accent-cli": "^0.16.2",
    "argparse": "^2.0.1",
    "babel-core": "^7.0.0-bridge.0",
    "babel-plugin-macros": "^3.0.0",
    "chromatic": "^11.4.0",
    "eslint": "^8.57.1",
    "eslint-config-next": "^14.2.23",
    "eslint-plugin-deprecate": "^0.8.5",
    "eslint-plugin-import": "^2.31.0",
    "eslint-plugin-storybook": "^0.11.2",
    "eslint-plugin-visualize-admin": "link:./eslint/visualize-admin",
    "fs-extra": "^10.0.0",
    "import-move-codemod": "^0.0.3",
    "knip": "^5.42.0",
    "madge": "^6.1.0",
    "prettier": "^3.4.2",
    "rollup": "^2.52.2",
    "rollup-plugin-babel": "^4.3.3",
    "rollup-plugin-commonjs": "^10.1.0",
    "rollup-plugin-node-builtins": "^2.1.2",
    "rollup-plugin-terser": "^7.0.2",
    "storybook": "8.6.12",
    "tsx": "^4.19.2",
    "typescript": "4.9.5"
  },
  "workspaces": [
    ".",
    "app"
  ],
  "preconstruct": {
    "packages": [
      "app"
    ]
  },
  "cacheDirectories": [
    "node_modules",
    "app/.next/cache"
  ],
  "resolutions": {
    "@babel/core": "^7.14.6",
    "@babel/parser": "^7.14.6"
  },
  "bugs": {
    "url": "https://github.com/visualize-admin/visualization-tool/issues"
  },
  "homepage": "https://github.com/visualize-admin/visualization-tool#readme"
}
